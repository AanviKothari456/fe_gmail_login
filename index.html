<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Saami - Voice Email Assistant</title>

  <!-- Base and UI styles (assuming they live next to index.html) -->
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="ui.css" />
</head>
<body>
  <h1>Saami - Your Voice Email Assistant</h1>

  <!-- LOGIN BUTTON -->
  <button id="loginBtn" onclick="login()">ğŸ” Login with Gmail</button>

  <!-- LOADING SCREEN (hidden by default) -->
  <div id="loading" class="loading-screen" style="display:none;">
    <p>ğŸš€ Embarking on your hands-free journeyâ€¦</p>
    <p>Fetching your inbox, please wait.</p>
  </div>

  <!-- MAIN CONTENT (hidden until logged in) -->
  <div id="content" style="display: none;">
    <h2>ğŸ“¥ Latest Email</h2>

    <p><strong>Subject:</strong> <span id="subject"></span></p>

    <!-- â”€â”€â”€ BODY TOGGLE SECTION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <div class="body-container">
      <div class="body-header">
        <!-- 
          When collapsed, we show â–¶, when expanded â–¼
          JavaScript will swap the classes â€œcollapsedâ€/â€œexpandedâ€
        -->
        <span id="body-toggle" class="collapsed">â–¶ Body</span>
      </div>
      <!-- The actual body; starts hidden -->
      <div id="body-content" class="collapsed-content"></div>
    </div>
    <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->

    <!-- TWOâ€LINE SUMMARY -->
    <h3>ğŸ” Twoâ€Line Summary:</h3>
    <p id="summary" style="font-style: italic; margin-bottom: 1rem;"></p>
    <button onclick="readSummary()">ğŸ”Š Read Summary Aloud</button>

    <button id="handsFreeBtn" onclick="handsFreeFlow()">Hands Free</button>

    <button id="extractBtn">ğŸ“ Extract Attachments</button>
    <p id="attachmentSummary" style="font-style: italic; margin-top: 0.5rem;"></p>


    <h3>ğŸ¤ Reply</h3>
    <button id="startBtn" onclick="startRecording()">Start Recording</button>
    <button id="stopBtn" onclick="stopRecording()">Stop Recording</button>
    <p id="transcript"></p>
    <button onclick="sendReply()">Generate AI Reply</button>

    <!-- EDITABLE AI REPLY AREA -->
    <h3>âœï¸ AI-Generated Reply (You can edit before sending)</h3>
    <textarea id="aiReplyEditable" rows="8" style="width: 100%; font-size: 1rem;"></textarea>
    <div style="margin-top: 0.5rem;">
      <button id="readBtn" onclick="readAndConfirmReply()">Read Reply Aloud & Ask to Send/Next</button>
    </div>
  </div>

  <!-- â€œAll doneâ€ message (hidden until needed) -->
  <div id="doneMessage" style="display: none; font-size: 1.2rem; margin-top: 2rem;">
    âœ… All tasks done for today.
  </div>

  <script src="script.js"></script>
</body>
</html>
